-- MySQL Script generated by MySQL Workbench
-- Wed Oct 15 17:31:55 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema Hospital
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema Hospital
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Hospital` DEFAULT CHARACTER SET utf8 ;
USE `Hospital` ;

-- -----------------------------------------------------
-- Table `Hospital`.`medicamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Hospital`.`medicamento` (
                                                        `codigo` INT NOT NULL AUTO_INCREMENT,
                                                        `nombre` VARCHAR(45) NULL,
    `presentacion` VARCHAR(45) NULL,
    PRIMARY KEY (`codigo`))
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Hospital`.`pacientes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Hospital`.`pacientes` (
                                                      `id` VARCHAR(20) NOT NULL,
    `nombre` VARCHAR(45) NULL,
    `fechaNacimiento` DATE NULL,
    `numTelefono` INT NULL,
    PRIMARY KEY (`id`))
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Hospital`.`empleado`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Hospital`.`empleado` (
                                                     `id` VARCHAR(20) NOT NULL,
    `clave` VARCHAR(45) NULL,
    `rol` VARCHAR(15) NULL,
    PRIMARY KEY (`id`))
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Hospital`.`medico`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Hospital`.`medico` (
                                                   `id` VARCHAR(20) NOT NULL,
    `nombre` VARCHAR(45) NULL,
    `especialidad` VARCHAR(45) NULL,
    PRIMARY KEY (`id`),
    CONSTRAINT `fk_medico_empleado1`
    FOREIGN KEY (`id`)
    REFERENCES `Hospital`.`empleado` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Hospital`.`recetas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Hospital`.`recetas` (
                                                    `numero` INT NOT NULL AUTO_INCREMENT,
                                                    `fechadeEmision` DATE NULL,
                                                    `fechaRetiro` DATE NULL,
                                                    `estado` VARCHAR(45) NULL,
    `paciente` INT NOT NULL,
    `medico` INT NOT NULL,
    PRIMARY KEY (`numero`),
    INDEX `fk_recetas_pacientes1_idx` (`paciente` ASC) VISIBLE,
    INDEX `fk_recetas_medico1_idx` (`medico` ASC) VISIBLE,
    CONSTRAINT `fk_recetas_pacientes1`
    FOREIGN KEY (`paciente`)
    REFERENCES `Hospital`.`pacientes` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    CONSTRAINT `fk_recetas_medico1`
    FOREIGN KEY (`medico`)
    REFERENCES `Hospital`.`medico` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Hospital`.`prescripcion`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Hospital`.`prescripcion` (
                                                         `idprescripcion` INT NOT NULL AUTO_INCREMENT,
                                                         `indicaciones` VARCHAR(100) NULL,
    `cantidad` INT NULL,
    `duracion` INT NULL,
    `medicamento` INT NOT NULL,
    `receta` INT NOT NULL,
    PRIMARY KEY (`idprescripcion`),
    INDEX `fk_prescripcion_medicamento_idx` (`medicamento` ASC) VISIBLE,
    INDEX `fk_prescripcion_recetas1_idx` (`receta` ASC) VISIBLE,
    CONSTRAINT `fk_prescripcion_medicamento`
    FOREIGN KEY (`medicamento`)
    REFERENCES `Hospital`.`medicamento` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    CONSTRAINT `fk_prescripcion_recetas1`
    FOREIGN KEY (`receta`)
    REFERENCES `Hospital`.`recetas` (`numero`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Hospital`.`farmaceuta`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Hospital`.`farmaceuta` (
                                                       `id` VARCHAR(20) NOT NULL,
    `nombre` VARCHAR(45) NULL,
    PRIMARY KEY (`id`),
    CONSTRAINT `fk_farmaceuta_empleado1`
    FOREIGN KEY (`id`)
    REFERENCES `Hospital`.`empleado` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Hospital`.`administrador`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Hospital`.`administrador` (
                                                          `id` VARCHAR(20) NOT NULL,
    `nombre` VARCHAR(45) NULL,
    PRIMARY KEY (`id`),
    INDEX `fk_administrador_empleado1_idx` (`id` ASC) VISIBLE,
    CONSTRAINT `fk_administrador_empleado1`
    FOREIGN KEY (`id`)
    REFERENCES `Hospital`.`empleado` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
    ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

